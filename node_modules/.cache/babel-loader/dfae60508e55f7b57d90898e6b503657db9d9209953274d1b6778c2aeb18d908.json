{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"sm:mx-auto sm:w-full sm:max-w-sm\"\n}, [/*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\"\n}, \"Зарегистрируйте свой аккаунт\")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"name\",\n  class: \"block text-sm font-medium leading-6 text-gray-900\"\n}, \"Ваше имя\", -1 /* HOISTED */);\nconst _hoisted_5 = {\n  class: \"\"\n};\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"email\",\n  class: \"block text-sm font-medium leading-6 text-gray-900\"\n}, \"Email адрес\", -1 /* HOISTED */);\nconst _hoisted_7 = {\n  class: \"\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"phone\",\n  class: \"block text-sm font-medium leading-6 text-gray-900\"\n}, \"Номер телефона\", -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"flex items-center justify-between\"\n}, [/*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"password\",\n  class: \"block text-sm font-medium leading-6 text-gray-900\"\n}, \"Пароль\")], -1 /* HOISTED */);\nconst _hoisted_11 = {\n  class: \"\"\n};\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"div\", null, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"submit\",\n  class: \"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n}, \"Зарегистрироваться\")], -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"mt-10 text-center font-semibold leading-6 text-indigo-600 hover:text-indigo-500\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"mt-4 text-center font-medium text-sm leading-6 text-gray-400 hover:text-indigo-500\"\n}, \"Уже есть аккаунт?\", -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    class: \"space-y-6\",\n    action: \"#\",\n    onSubmit: _cache[4] || (_cache[4] = (...args) => $options.registerUser && $options.registerUser(...args))\n  }, [_createElementVNode(\"div\", null, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"name\",\n    name: \"name\",\n    type: \"text\",\n    autocomplete: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.name = $event),\n    required: \"\",\n    class: \"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.name]])])]), _createElementVNode(\"div\", null, [_hoisted_6, _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"email\",\n    name: \"email\",\n    type: \"email\",\n    autocomplete: \"email\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.email = $event),\n    required: \"\",\n    class: \"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])])]), _createElementVNode(\"div\", null, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"phone\",\n    name: \"phone\",\n    type: \"text\",\n    autocomplete: \"phone\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.phone = $event),\n    required: \"\",\n    class: \"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.phone]])])]), _createElementVNode(\"div\", null, [_hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    id: \"password\",\n    name: \"password\",\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.password = $event),\n    autocomplete: \"current-password\",\n    required: \"\",\n    class: \"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])])]), _hoisted_12], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"p\", _hoisted_13, _toDisplayString($data.registrationMessage), 1 /* TEXT */), _createVNode(_component_router_link, {\n    to: \"/login\"\n  }, {\n    default: _withCtx(() => [_hoisted_14]),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","action","onSubmit","_cache","args","$options","registerUser","_hoisted_4","_hoisted_5","id","name","autocomplete","$data","$event","required","_hoisted_6","_hoisted_7","email","_hoisted_8","_hoisted_9","phone","_hoisted_10","_hoisted_11","password","_hoisted_12","_hoisted_13","_toDisplayString","registrationMessage","_createVNode","_component_router_link","to","_hoisted_14"],"sources":["/Users/dev/Desktop/vue /src/components/register/v-register.vue"],"sourcesContent":["<!-- <template>\n  <form @submit=\"registerUser\">\n    <input type=\"text\" v-model=\"name\" placeholder=\"Name\" required>\n    <input type=\"password\" v-model=\"password\" placeholder=\"Password\" required>\n    <input type=\"email\" v-model=\"email\" placeholder=\"Email\">\n    <button type=\"submit\">Register</button>\n    <p>{{ registrationMessage }}</p>\n  </form>\n</template> -->\n\n<template>\n  <div class=\"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n  \n      <h2 class=\"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">Зарегистрируйте свой аккаунт</h2>\n    </div>\n\n    <div class=\"mt-10 sm:mx-auto sm:w-full sm:max-w-sm\">\n      <form class=\"space-y-6\" action=\"#\" @submit=\"registerUser\">\n        <div>\n          <label for=\"name\" class=\"block text-sm font-medium leading-6 text-gray-900\">Ваше имя</label>\n          <div class=\"\">\n            <input id=\"name\" name=\"name\" type=\"text\" autocomplete=\"name\" v-model=\"name\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5  px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n          </div>\n        </div>\n        <div>\n          <label for=\"email\" class=\"block text-sm font-medium leading-6 text-gray-900\">Email адрес</label>\n          <div class=\"\">\n            <input id=\"email\" name=\"email\" type=\"email\" autocomplete=\"email\" v-model=\"email\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5  px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n          </div>\n        </div>\n        <div>\n          <label for=\"phone\" class=\"block text-sm font-medium leading-6 text-gray-900\">Номер телефона</label>\n          <div class=\"\">\n            <input id=\"phone\" name=\"phone\" type=\"text\" autocomplete=\"phone\" v-model=\"phone\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5  px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n          </div>\n        </div>\n\n        <div>\n          <div class=\"flex items-center justify-between\">\n            <label for=\"password\" class=\"block text-sm font-medium leading-6 text-gray-900\">Пароль</label>\n         \n          </div>\n          <div class=\"\">\n            <input id=\"password\" name=\"password\" type=\"password\" v-model=\"password\" autocomplete=\"current-password\" required=\"\" class=\"block w-full rounded-md border-0 py-1.5 px-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n          </div>\n        </div>\n\n        <div>\n          <button type=\"submit\" class=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">Зарегистрироваться</button>\n        </div>\n      </form>\n      <p class=\"mt-10 text-center font-semibold leading-6 text-indigo-600 hover:text-indigo-500\">{{ registrationMessage }}</p>\n      <router-link to=\"/login\">\n      <p class=\"mt-4 text-center font-medium text-sm leading-6 text-gray-400 hover:text-indigo-500\">Уже есть аккаунт?</p>\n </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport { mapGetters, mapMutations } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      name: '',\n      password: '',\n      email: '',\n      registrationMessage: '',\n      phone: this.phone,\n      role: 0    // Переменная для хранения сообщения о регистрации\n    };\n  },\n  methods: {\n\n    ...mapMutations(['SET_AUTH', 'SET_ROLE']), \n    async registerUser(event) {\n  event.preventDefault();\n  try {\n    const response = await axios.post('http://localhost:7676/api/users', {\n      name: this.name,\n      password: this.password,\n      email: this.email,\n      phone: this.phone,\n      role: '0'\n    });\n \n    // В данном случае, сервер возвращает только сообщение об успешной регистрации, без данных о роли\n    // Если сервер вернул данные о роли, раскомментируйте следующие строки для сохранения роли через Vuex\n    // const { role } = response.data;\n    this.SET_AUTH(true);\n    localStorage.setItem('role', 0);\n   \n\n    // Вместо сохранения роли через Vuex, просто перенаправим пользователя на страницу /dashboard\n    this.$router.push('/dashboard');\n\n    this.registrationMessage = response.data.message; // Сохранение сообщения в переменной\n    console.log(response.data.message);\n  } catch (error) {\n    this.registrationMessage = error.response.data.message; // Сохранение сообщения об ошибке в переменной\n    console.log(error.response.data.message);\n  }\n}\n\n  },\n  computed: {\n    ...mapGetters(['isAuthenticated']) \n    },\n};\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}