{"ast":null,"code":"import { ref } from 'vue';\n\n//   import { ChevronDownIcon } from '@heroicons/vue/solid'\nimport { ShoppingCartIcon } from '@heroicons/vue/outline';\nimport { Switch, SwitchGroup, SwitchLabel } from '@headlessui/vue';\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\nconst __default__ = {\n  name: 'v-order',\n  components: {},\n  props: {\n    cart_data: {\n      type: Array,\n      default() {\n        return [];\n      }\n    }\n  },\n  data() {\n    return {\n      user: {}\n    };\n  },\n  created() {\n    const userId = localStorage.getItem('id');\n    this.fetchUserData(userId);\n  },\n  methods: {\n    async fetchUserData(userId) {\n      try {\n        // Используйте userId в URL для получения данных текущего пользователя\n        const response = await axios.get(`http://localhost:7676/api/users/${userId}`);\n        this.user = response.data;\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['CART'])\n  }\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const agreed = ref(false);\n    const __returned__ = {\n      agreed,\n      get mapGetters() {\n        return mapGetters;\n      },\n      get axios() {\n        return axios;\n      },\n      ref,\n      get ShoppingCartIcon() {\n        return ShoppingCartIcon;\n      },\n      get Switch() {\n        return Switch;\n      },\n      get SwitchGroup() {\n        return SwitchGroup;\n      },\n      get SwitchLabel() {\n        return SwitchLabel;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","ShoppingCartIcon","Switch","SwitchGroup","SwitchLabel","mapGetters","axios","__default__","name","components","props","cart_data","type","Array","default","data","user","created","userId","localStorage","getItem","fetchUserData","methods","response","get","error","console","computed","agreed"],"sources":["/Users/dev/Desktop/vue /src/components/order/v-order.vue"],"sourcesContent":["<template>\n<div class=\" my-10\" v-if=\"CART.length\">\n\n    <div class=\"mx-auto max-w-2xl text-center\">\n        <h2 class=\"text-3xl font-bold  text-gray-800 sm:text-4xl\">Оформить заказ</h2>\n        <!-- <h1 class=\"text-2xl\">{{CART.length}}</h1> -->\n        <div v-for=\"item  in CART\" :key=\"item.id\">\n            {{ item.price  }} {{ item.id }}\n        </div>\n    </div>\n    <form action=\"#\" method=\"POST\" class=\"mx-auto mt-16 max-w-xl sm:mt-20\">\n        <div class=\"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2\">\n            <div>\n                <label for=\"first-name\" class=\"block text-sm font-semibold leading-6 text-gray-900\">Имя</label>\n                <div class=\"mt-2.5\">\n                    <input type=\"text\"  v-model=\"user.name\" name=\"first-name\" id=\"first-name\" autocomplete=\"given-name\" class=\"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n                </div>\n            </div>\n            <div>\n                <label for=\"last-name\" class=\"block text-sm font-semibold leading-6 text-gray-900\">Email</label>\n                <div class=\"mt-2.5\">\n                    <input type=\"text\" v-model=\"user.email\"  name=\"last-name\" id=\"last-name\" autocomplete=\"family-name\" class=\"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n                </div>\n            </div>\n            <div class=\"sm:col-span-2\">\n                <label for=\"company\" class=\"block text-sm font-semibold leading-6 text-gray-900\">Номер телефона</label>\n                <div class=\"mt-2.5\">\n                    <input type=\"text\" name=\"company\" v-model=\"user.phone\" id=\"company\" autocomplete=\"organization\" class=\"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n                </div>\n            </div>\n            <div>\n\n            </div>\n\n            <div class=\"sm:col-span-2\">\n                <label for=\"message\" class=\"block text-sm font-semibold leading-6 text-gray-900\">Сообщение</label>\n                <div class=\"mt-2.5\">\n                    <textarea name=\"message\" id=\"message\" rows=\"4\" class=\"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6\" />\n                    </div>\n          </div>\n          <SwitchGroup as=\"div\" class=\"flex gap-x-4 sm:col-span-2\">\n            <div class=\"flex h-6 items-center\">\n              <Switch v-model=\"agreed\" :class=\"[agreed ? 'bg-indigo-600' : 'bg-gray-200', 'flex w-8 flex-none cursor-pointer rounded-full p-px ring-1 ring-inset ring-gray-900/5 transition-colors duration-200 ease-in-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600']\">\n                <span class=\"sr-only\">Agree to policies</span>\n                <span aria-hidden=\"true\" :class=\"[agreed ? 'translate-x-3.5' : 'translate-x-0', 'h-4 w-4 transform rounded-full bg-white shadow-sm ring-1 ring-gray-900/5 transition duration-200 ease-in-out']\" />\n              </Switch>\n            </div>\n            <SwitchLabel class=\"text-sm leading-6 text-gray-600\">\n              By selecting this, you agree to our\n              {{ ' ' }}\n              <a href=\"#\" class=\"font-semibold text-indigo-600\">privacy&nbsp;policy</a>.\n            </SwitchLabel>\n          </SwitchGroup>\n        </div>\n        <div class=\"mt-10\">\n          <button type=\"submit\" class=\"block w-full rounded-md bg-indigo-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\">Let's talk</button>\n        </div>\n      </form>\n    </div>\n    <div v-else class=\"text-center my-auto flex flex-col items-center justify-center h-[70vh]\">\n        <div class=\"relative mb-4\">\n            <ShoppingCartIcon class=\" w-36 flex items-center text-gray-200  mx-auto justify-center \"  />\n            <div class=\"absolute w-12 h-12 text-white flex items-center font-bold text-2xl justify-center bg-blue-200 rounded-full top-0 right-0\">0</div>\n        </div>\n        <div class=\"text-3xl mb-2 font-bold\">Корзина пуста</div>\n        <div class=\"text-gray-600 text-md \">Для заказа добавьте товары в корзину</div>\n        <router-link  :to=\"`/catalog`\">\n                   <button class=\"btn v-catalog-item__add_to_cart mx-auto z-2 relative flex  justify-center rounded-md bg-blue-600 px-8 py-3 mt-10 text-md font-semibold leading-6 text-white shadow-sm transition duration-300 hover:bg-blue-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600\">Каталог товаров</button>\n                </router-link>\n\n    </div>\n  \n</template>\n\n  \n  \n<script setup>\nimport {\n    ref\n} from 'vue'\n\n//   import { ChevronDownIcon } from '@heroicons/vue/solid'\nimport {\n    ShoppingCartIcon\n} from '@heroicons/vue/outline'\nimport {\n    Switch,\n    SwitchGroup,\n    SwitchLabel\n} from '@headlessui/vue'\n\nconst agreed = ref(false)\n</script>\n<script>\nimport {\n    mapGetters\n} from 'vuex'\nimport axios from 'axios';\nexport default {\n    name: 'v-order',\n    components: {},\n    props: {\n        cart_data: {\n            type: Array,\n            default () {\n                return []\n            }\n        }\n    },\n    data() {\n    return {\n      user: {},\n    };\n  },\n  created() {\n\n    const userId = localStorage.getItem('id');\n\n\n    this.fetchUserData(userId);\n  },\n    methods: {\n    async fetchUserData(userId) {\n      try {\n        // Используйте userId в URL для получения данных текущего пользователя\n        const response = await axios.get(`http://localhost:7676/api/users/${userId}`);\n        this.user = response.data;\n        \n      } catch (error) {\n        console.error(error);\n      }\n    },\n  },\n    computed: {\n        ...mapGetters(['CART']),\n    },\n}\n</script>\n"],"mappings":"AA6EA,SACIA,GAAG,QACA,KAAK;;AAEZ;AACA,SACIC,gBAAgB,QACb,wBAAwB;AAC/B,SACIC,MAAM,EACNC,WAAW,EACXC,WAAW,QACR,iBAAiB;AAKxB,SACIC,UAAU,QACP,MAAM;AACb,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAAC,WAAA,GAAe;EACXC,IAAI,EAAE,SAAS;EACfC,UAAU,EAAE,CAAC,CAAC;EACdC,KAAK,EAAE;IACHC,SAAS,EAAE;MACPC,IAAI,EAAEC,KAAK;MACXC,OAAOA,CAAA,EAAI;QACP,OAAO,EAAE;MACb;IACJ;EACJ,CAAC;EACDC,IAAIA,CAAA,EAAG;IACP,OAAO;MACLC,IAAI,EAAE,CAAC;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IAER,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC;IAGzC,IAAI,CAACC,aAAa,CAACH,MAAM,CAAC;EAC5B,CAAC;EACCI,OAAO,EAAE;IACT,MAAMD,aAAaA,CAACH,MAAM,EAAE;MAC1B,IAAI;QACF;QACA,MAAMK,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAE,mCAAkCN,MAAO,EAAC,CAAC;QAC7E,IAAI,CAACF,IAAI,GAAGO,QAAQ,CAACR,IAAI;MAE3B,CAAC,CAAC,OAAOU,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF;EACF,CAAC;EACCE,QAAQ,EAAE;IACN,GAAGtB,UAAU,CAAC,CAAC,MAAM,CAAC;EAC1B;AACJ,CAAC;;;;;;IA7CD,MAAMuB,MAAM,GAAG5B,GAAG,CAAC,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}